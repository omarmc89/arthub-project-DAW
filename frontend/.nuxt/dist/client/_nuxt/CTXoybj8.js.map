{"version":3,"file":"CTXoybj8.js","sources":["../../../../node_modules/@nuxt/ui/dist/runtime/components/forms/Textarea.vue"],"sourcesContent":["<template>\n  <div :class=\"ui.wrapper\">\n    <textarea\n      :id=\"inputId\"\n      ref=\"textarea\"\n      :value=\"modelValue\"\n      :name=\"name\"\n      :rows=\"rows\"\n      :required=\"required\"\n      :disabled=\"disabled\"\n      :placeholder=\"placeholder\"\n      :class=\"textareaClass\"\n      v-bind=\"attrs\"\n      @input=\"onInput\"\n      @blur=\"onBlur\"\n      @change=\"onChange\"\n    />\n\n    <slot />\n  </div>\n</template>\n\n<script>\nimport { ref, computed, toRef, watch, onMounted, nextTick, defineComponent } from \"vue\";\nimport { twMerge, twJoin } from \"tailwind-merge\";\nimport { defu } from \"defu\";\nimport { useUI } from \"../../composables/useUI\";\nimport { useFormGroup } from \"../../composables/useFormGroup\";\nimport { mergeConfig, looseToNumber } from \"../../utils\";\nimport appConfig from \"#build/app.config\";\nimport { textarea } from \"#ui/ui.config\";\nconst config = mergeConfig(appConfig.ui.strategy, appConfig.ui.textarea, textarea);\nexport default defineComponent({\n  inheritAttrs: false,\n  props: {\n    modelValue: {\n      type: [String, Number],\n      default: \"\"\n    },\n    id: {\n      type: String,\n      default: null\n    },\n    name: {\n      type: String,\n      default: null\n    },\n    placeholder: {\n      type: String,\n      default: null\n    },\n    required: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    rows: {\n      type: Number,\n      default: 3\n    },\n    maxrows: {\n      type: Number,\n      default: 0\n    },\n    autoresize: {\n      type: Boolean,\n      default: false\n    },\n    autofocus: {\n      type: Boolean,\n      default: false\n    },\n    autofocusDelay: {\n      type: Number,\n      default: 100\n    },\n    resize: {\n      type: Boolean,\n      default: false\n    },\n    padded: {\n      type: Boolean,\n      default: true\n    },\n    size: {\n      type: String,\n      default: null,\n      validator(value) {\n        return Object.keys(config.size).includes(value);\n      }\n    },\n    color: {\n      type: String,\n      default: () => config.default.color,\n      validator(value) {\n        return [...appConfig.ui.colors, ...Object.keys(config.color)].includes(value);\n      }\n    },\n    variant: {\n      type: String,\n      default: () => config.default.variant,\n      validator(value) {\n        return [\n          ...Object.keys(config.variant),\n          ...Object.values(config.color).flatMap((value2) => Object.keys(value2))\n        ].includes(value);\n      }\n    },\n    textareaClass: {\n      type: String,\n      default: null\n    },\n    class: {\n      type: [String, Object, Array],\n      default: () => \"\"\n    },\n    ui: {\n      type: Object,\n      default: () => ({})\n    },\n    modelModifiers: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  emits: [\"update:modelValue\", \"blur\", \"change\"],\n  setup(props, { emit }) {\n    const { ui, attrs } = useUI(\"textarea\", toRef(props, \"ui\"), config, toRef(props, \"class\"));\n    const { emitFormBlur, emitFormInput, inputId, color, size, name } = useFormGroup(props, config);\n    const modelModifiers = ref(defu({}, props.modelModifiers, { trim: false, lazy: false, number: false }));\n    const textarea2 = ref(null);\n    const autoFocus = () => {\n      if (props.autofocus) {\n        textarea2.value?.focus();\n      }\n    };\n    const autoResize = () => {\n      if (props.autoresize) {\n        if (!textarea2.value) {\n          return;\n        }\n        textarea2.value.rows = props.rows;\n        const styles = window.getComputedStyle(textarea2.value);\n        const paddingTop = parseInt(styles.paddingTop);\n        const paddingBottom = parseInt(styles.paddingBottom);\n        const padding = paddingTop + paddingBottom;\n        const lineHeight = parseInt(styles.lineHeight);\n        const { scrollHeight } = textarea2.value;\n        const newRows = (scrollHeight - padding) / lineHeight;\n        if (newRows > props.rows) {\n          textarea2.value.rows = props.maxrows ? Math.min(newRows, props.maxrows) : newRows;\n        }\n      }\n    };\n    const updateInput = (value) => {\n      if (modelModifiers.value.trim) {\n        value = value.trim();\n      }\n      if (modelModifiers.value.number) {\n        value = looseToNumber(value);\n      }\n      emit(\"update:modelValue\", value);\n      emitFormInput();\n    };\n    const onInput = (event) => {\n      autoResize();\n      if (!modelModifiers.value.lazy) {\n        updateInput(event.target.value);\n      }\n    };\n    const onChange = (event) => {\n      const value = event.target.value;\n      emit(\"change\", value);\n      if (modelModifiers.value.lazy) {\n        updateInput(value);\n      }\n      if (modelModifiers.value.trim) {\n        event.target.value = value.trim();\n      }\n    };\n    const onBlur = (event) => {\n      emit(\"blur\", event);\n      emitFormBlur();\n    };\n    onMounted(() => {\n      setTimeout(() => {\n        autoFocus();\n      }, props.autofocusDelay);\n    });\n    watch(() => props.modelValue, () => {\n      nextTick(autoResize);\n    });\n    onMounted(() => {\n      setTimeout(() => {\n        autoFocus();\n        autoResize();\n      }, 100);\n    });\n    const textareaClass = computed(() => {\n      const variant = ui.value.color?.[color.value]?.[props.variant] || ui.value.variant[props.variant];\n      return twMerge(twJoin(\n        ui.value.base,\n        ui.value.form,\n        ui.value.rounded,\n        ui.value.placeholder,\n        ui.value.size[size.value],\n        props.padded ? ui.value.padding[size.value] : \"p-0\",\n        variant?.replaceAll(\"{color}\", color.value),\n        !props.resize && \"resize-none\"\n      ), props.textareaClass);\n    });\n    return {\n      // eslint-disable-next-line vue/no-dupe-keys\n      ui,\n      attrs,\n      // eslint-disable-next-line vue/no-dupe-keys\n      name,\n      inputId,\n      textarea: textarea2,\n      // eslint-disable-next-line vue/no-dupe-keys\n      textareaClass,\n      onInput,\n      onChange,\n      onBlur\n    };\n  }\n});\n</script>\n"],"names":["config","mergeConfig","appConfig","textarea","_sfc_main","defineComponent","value","value2","props","emit","ui","attrs","useUI","toRef","emitFormBlur","emitFormInput","inputId","color","size","name","useFormGroup","modelModifiers","ref","defu","textarea2","autoFocus","_a","autoResize","styles","paddingTop","paddingBottom","padding","lineHeight","scrollHeight","newRows","updateInput","looseToNumber","onInput","event","onChange","onBlur","onMounted","watch","nextTick","textareaClass","computed","variant","_b","twMerge","twJoin","_hoisted_1","_createElementBlock","_normalizeClass","_ctx","_createElementVNode","_mergeProps","args","_renderSlot"],"mappings":"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","x_google_ignoreList":[0]}