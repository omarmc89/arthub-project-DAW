import R from"./fot2LTB1.js";import st from"./sKitCyr3.js";import lt from"./BHQ3l2YK.js";import nt from"./D9GmcPDL.js";import{o as l,c as a,F as T,m as N,a as t,b as p,k as at,f as O,t as it,x as j,_ as ct,y as dt,r as n,z as ut,g as pt,A as mt,w as C,h as o,i as z,j as f,B as E,s as g,v as k,q as _t,p as ft,e as ht}from"./C79j48wv.js";import vt from"./C_tAZWaj.js";import wt from"./DmynAqPH.js";import{u as q}from"./WkucPJ3U.js";import{u as S}from"./C0_R-043.js";import{u as V}from"./6iK2AHlT.js";import"./DMxTXIy3.js";import"./D6pSI3Cj.js";import"./qsMMcMsd.js";import"./BbMdD1GC.js";import"./DnKWDGcn.js";import"./aPxrJPp6.js";import"./DdJAE_fm.js";import"./1ywJQXx5.js";import"./blSOxsGD.js";import"./CbDhBW09.js";import"./BVfGos88.js";import"./Bz0__uE8.js";import"./_SuYKs46.js";import"./CxY9nUXs.js";import"./1DmPJJeo.js";import"./BwFfse_O.js";import"./BunToOd1.js";import"./jthpZqva.js";import"./CxIZtCgj.js";import"./CUwOD5JQ.js";const gt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},kt={class:"flex flex-row justify-around gap-8"},yt=6,xt={__name:"ArtworkSkeleton",setup(m){return(h,y)=>{const i=nt;return l(),a("section",gt,[(l(),a(T,null,N(yt,c=>t("article",{key:c.id,class:"flex flex-col items-center justify-center"},[p(i,{class:"h-4 w-[350px] m-4"}),p(i,{class:"h-[350px] w-[350px] m-4",ui:{rounded:"rounded-xl"}}),t("div",kt,[p(i,{class:"h-4 w-4"}),p(i,{class:"h-4 w-4"})])])),64))])}}},bt=xt;async function M(){window.scrollTo(0,0)}const At=async m=>{const h=at(),{sessionToken:y}=V(),{data:i,error:c,pending:v}=await S(h.public.baseUrl+"create/artwork/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify({fetchData:m})},"$sX5GOa3Cng");return{data:i.value,error:c.value}},Ct=["userArtworks"],Ut={class:"user-artwork-card-title"},$t={class:"user-artwork-card-image-container"},St=["src","alt"],Vt={class:"user-artwork-card-buttons"},Tt={__name:"UserArtworksList",props:{userArtworks:Object},setup(m){const h=O();h.params,q();function y(i){h.path==="/dashboard"?j("dashboard/"+i):j("/artworks"+i)}return(i,c)=>{const v=R;return l(),a("section",{class:"artworks-deck flex justify-center items-center",userArtworks:m.userArtworks},[(l(!0),a(T,null,N(m.userArtworks,u=>(l(),a("article",{key:u.id,class:"user-artwork-card"},[t("div",Ut,[t("h5",null,it(u.title),1)]),t("div",$t,[t("img",{src:u.image_url,alt:u.title},null,8,St)]),t("div",Vt,[p(v,{onClick:w=>y(u.id),variant:"ghost",size:"xl",icon:"i-carbon-pending",color:"violet",class:"button"},null,8,["onClick"]),p(v,{onClick:w=>i.$emit("artworkId",u.id),variant:"outline",size:"xl",icon:"i-carbon-trash-can",color:"red",class:"button"},null,8,["onClick"])])]))),128))],8,Ct)}}},Bt=Tt,_=m=>(ft("data-v-eabdf1c7"),m=m(),ht(),m),Dt={key:0,class:"form-wrapper mt-8"},It={class:"form-label my-4 flex flex-row gap-8"},Lt={class:"form-label"},Ft=_(()=>t("label",{for:"title"},"Title",-1)),Pt={class:"form-label"},jt=_(()=>t("label",{for:"description"},"Description",-1)),zt={class:"form-label"},Et=_(()=>t("label",{for:"image_url"},"Image URL",-1)),Mt={class:"form-label"},Rt=_(()=>t("label",{for:"price"},"Price",-1)),Nt={key:0},Ot={key:0,class:"form-label"},qt=_(()=>t("label",{for:"style"},"Style",-1)),Ht={key:1,class:"form-label"},Jt=_(()=>t("label",{for:"width"},"Width",-1)),Xt={key:2,class:"form-label"},Zt=_(()=>t("label",{for:"height"},"Height",-1)),Gt=["disabled"],Wt={key:0},Kt={key:1},Qt={key:1,class:"text-lg text-center text-lime-500"},Yt={key:2,class:"text-lg text-center text-red-600"},te={class:"flex flex-row items-center justify-around"},ee=_(()=>t("h3",{class:"h-8 text-xl font-bold drop-shadow-lg text-slate-900"},"Confirmation",-1)),oe=_(()=>t("p",{class:"h-32 text-slate-800 text-center"},"Are you sure to delete Artwork?",-1)),re=_(()=>t("small",{class:"h-8 text-xl text-red-400"},"Delete is not reversible",-1)),se={__name:"index",setup(m){V();const h=q(),{userLogged:y,artistId:i}=dt(V()),c=n("Painting"),v=n(""),u=n(""),w=n(!1);n(!1);const B=n({}),x=n(!1),U=n(!0),$=n(1),D=n(!0),b=n(!1),I=n("");n(!1),n(!0);const L=i.value,H=O();console.log(H.path);const J=[{name:"Painting",value:"Painting"},{name:"Photo",value:"Photo"}],r=n({title:"",description:"",image_url:"",price:"",style:"",width:"",height:""});ut(async()=>{F()}),pt(async()=>{F()});function X(){U.value=!U.value}async function F(){try{D.value=!0,x.value=!0,P(L),D.value=!1}catch(d){console.error("Error fetching user artworks:",d)}}const Z=async()=>{const d={...r.value,type:c.value.toLowerCase(),artistId:i.value};w.value=!0;const{data:e,error:A}=await At(d);A?(u.value=A,w.value=!1):(u.value="",v.value=e,w.value=!1,G())};function G(){h.add({title:"Congratulations! Artwork created!",timeout:1500}),Q(),v.value=!1,u.value=!1,U.value=!0,$.value+=1,M()}mt($,(d,e)=>{d>e&&P(L)});async function P(d){const{data:e,error:A}=await S(`https://arthub-api-polished-breeze-902.fly.dev/api/v1/search/artworkbyuser/?id=${d}`,{watch:[$]},"$HLz0tZ1TSN");e&&(x.value=!1,B.value=e.value)}async function W(d){try{await S(`https://arthub-api-polished-breeze-902.fly.dev/api/v1/artworks/${d}/`,{method:"DELETE"},"$XiJiZLemq5"),$.value+=1,b.value=!1,x.value=!0,M(),h.add({title:"Artwork deleted",timeout:1500,color:"red"})}catch(e){console.error("Error deleting or creating artwork:",e)}}function K(d){console.log("Artwork ID:",d),I.value=d,b.value=!0}function Q(){r.value.title="",r.value.description="",r.value.image_url="",r.value.price="",r.value.style="",r.value.width="",r.value.height=""}return(d,e)=>{const A=R,Y=st,tt=lt,et=bt,ot=vt,rt=wt;return l(),a(T,null,[p(tt,{class:"w-6/12 my-8"},{default:C(()=>[p(A,{onClick:X,label:"Click if you want upload an artowork!",icon:"i-heroicons-pencil-square",color:"black",block:""}),o(U)?f("",!0):(l(),a("section",Dt,[t("form",{class:"artwork-form space-y-4 text-slate-900",onSubmit:_t(Z,["prevent"])},[p(Y,{class:"text-red-400",color:"violet",variant:"outline",size:"xl",icon:"i-carbon-fetch-upload-cloud",modelValue:o(c),"onUpdate:modelValue":e[0]||(e[0]=s=>E(c)?c.value=s:null),placeholder:"Select if you want to upload a photo or painting",padded:!0,options:J},null,8,["modelValue"]),t("section",It,[t("div",null,[t("div",Lt,[Ft,g(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o(r).title=s),id:"title",name:"title",type:"text",class:"form-control rounded-full bg-white"},null,512),[[k,o(r).title]])]),t("div",Pt,[jt,g(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>o(r).description=s),id:"description",name:"description",type:"text",class:"form-control rounded-full bg-white"},null,512),[[k,o(r).description]])]),t("div",zt,[Et,g(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>o(r).image_url=s),id:"image_url",name:"image_url",type:"text",class:"form-control rounded-full bg-white"},null,512),[[k,o(r).image_url]])]),t("div",Mt,[Rt,g(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>o(r).price=s),id:"price",name:"price",type:"text",class:"form-control rounded-full bg-white"},null,512),[[k,o(r).price]])])]),o(c)!==""?(l(),a("div",Nt,[o(c)!==""?(l(),a("div",Ot,[qt,g(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>o(r).style=s),id:"style",name:"style",type:"text",class:"form-control rounded-full bg-white"},null,512),[[k,o(r).style]])])):f("",!0),o(c)==="Painting"?(l(),a("div",Ht,[Jt,g(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>o(r).width=s),id:"width",name:"width",type:"text",class:"form-control rounded-full bg-white"},null,512),[[k,o(r).width]])])):f("",!0),o(c)==="Painting"?(l(),a("div",Xt,[Zt,g(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>o(r).height=s),id:"height",name:"height",type:"text",class:"form-control rounded-full bg-white"},null,512),[[k,o(r).height]])])):f("",!0)])):f("",!0)]),t("button",{type:"submit",disabled:o(w),class:"btn"},[o(w)?(l(),a("span",Wt,"Submitting...")):(l(),a("span",Kt,"Submit"))],8,Gt)],32)])),o(v)?(l(),a("p",Qt,"Artwork created!")):f("",!0),o(u)?(l(),a("p",Yt,"Error creating artwork")):f("",!0)]),_:1}),t("section",te,[o(x)?(l(),z(et,{key:0})):f("",!0),o(x)?f("",!0):(l(),z(Bt,{key:1,userArtworks:o(B),onArtworkId:K},null,8,["userArtworks"]))]),p(rt,{modelValue:o(b),"onUpdate:modelValue":e[9]||(e[9]=s=>E(b)?b.value=s:null)},{default:C(()=>[p(ot,{class:"flex flex-col w-full items-center justify-center",ui:{ring:"",divide:"divide-y divide-gray-100 dark:divide-gray-100"}},{header:C(()=>[ee]),footer:C(()=>[re]),default:C(()=>[oe,t("button",{class:"w-full bg-red-400 text-slate-200 text-center rounded-xl h-12 text-xl font-bold hover:text-slate-900 hover:bg-red-600",onClick:e[8]||(e[8]=s=>W(o(I)))},"Borrar")]),_:1})]),_:1},8,["modelValue"])],64)}}},Fe=ct(se,[["__scopeId","data-v-eabdf1c7"]]);export{Fe as default};
//# sourceMappingURL=CuSTBBLg.js.map
