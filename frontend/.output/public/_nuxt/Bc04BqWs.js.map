{"version":3,"file":"Bc04BqWs.js","sources":["../../../../composables/useUserLoggedData.js"],"sourcesContent":["import { useAuthStore } from '~/store/auth'\n\nexport const useUserLoggedData = async () => {\n    const runtimeConfig = useRuntimeConfig()\n    let artistData = null\n\n    const { userLogged , sessionToken} = useAuthStore(); // Asegúrate de invocar la función useAuthStore para obtener el estado actual\n    if (userLogged) {\n        const { data, error } = await useFetch(`${runtimeConfig.public.baseUrl}search/artist/?user_id=${userLogged.pk}`, {\n            method: 'GET',\n            headers:{\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${sessionToken}`\n            }\n        });\n        if (data) {\n            artistData = data.value\n        }\n        else\n            return error\n    } else {\n        console.error('No se pudo obtener el usuario logueado');\n        return null; // O un objeto vacío, dependiendo de lo que necesites\n    }\n    return artistData\n};\n"],"names":["useUserLoggedData","runtimeConfig","useRuntimeConfig","artistData","userLogged","sessionToken","useAuthStore","data","error","useFetch"],"mappings":"sGAEY,MAACA,EAAoB,SAAY,CACzC,MAAMC,EAAgBC,EAAkB,EACxC,IAAIC,EAAa,KAEjB,KAAM,CAAE,WAAAC,EAAa,aAAAC,CAAY,EAAIC,EAAY,EACjD,GAAIF,EAAY,CACZ,KAAM,CAAE,KAAAG,EAAM,MAAAC,GAAU,MAAMC,EAAS,GAAGR,EAAc,OAAO,OAAO,0BAA0BG,EAAW,EAAE,GAAI,CAC7G,OAAQ,MACR,QAAQ,CACJ,eAAgB,mBAChB,cAAe,UAAUC,CAAY,EACxC,CACJ,EAAA,aAAA,EACD,GAAIE,EACAJ,EAAaI,EAAK,UAGlB,QAAOC,CACnB,KACQ,gBAAQ,MAAM,wCAAwC,EAC/C,KAEX,OAAOL,CACX"}