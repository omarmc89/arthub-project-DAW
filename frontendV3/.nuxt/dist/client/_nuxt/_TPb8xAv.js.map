{"version":3,"file":"_TPb8xAv.js","sources":["../../../../pages/register/index.vue"],"sourcesContent":["<template>\n  <UContainer>\n    <section class=\"form-wrapper flex flex-col items-center justify-center\">\n      <USelect class=\"mb-4\" @change=\"toggleFields\" color=\"violet\" variant=\"outline\" size=\"xl\" icon=\"i-carbon-user\" v-model=\"selectedUserType\" placeholder=\"Select if you want to register an ARTIST or CLIENT\" :padded=\"true\" :options=\"options\" />\n      <form class=\"form space-y-4 text-slate-900 flex flex-col items-center\" @submit.prevent=\"register\">\n        <section class=\"flex flex-row items-center gap-12\">\n          <article class=\"form-label h-full my-4 flex flex-col items-start justify-center gap-4\">\n          <div class=\"form-label\">\n            <label for=\"username\">Username</label>\n            <input v-model=\"username\" type=\"text\" placeholder=\"Username\" required class=\"form-control rounded-full bg-white\">\n          </div>\n          <div class=\"form-label\">\n            <label for=\"email\">Email</label>\n            <input v-model=\"email\" type=\"email\" placeholder=\"Email\" required class=\"form-control rounded-full bg-white\">\n          </div>\n          <div class=\"form-label\">\n            <label for=\"password\">Password</label>\n            <input type=\"password\" v-model=\"password\" placeholder=\"Password\" required class=\"form-control rounded-full bg-white\">\n          </div>          \n        </article>\n        <article class=\"form-label my-4 flex flex-col items-start gap-4\">\n          <div class=\"form-label\">\n            <label for=\"first_name\">First Name</label>\n            <input v-model=\"first_name\" type=\"text\" placeholder=\"First Name\" required class=\"form-control rounded-full bg-white\">\n\n          </div>\n          <div class=\"form-label\">\n            <label for=\"last_name\">Last Name</label>\n            <input v-model=\"last_name\" type=\"text\" placeholder=\"Last Name\" required class=\"form-control rounded-full bg-white\">\n\n          </div>        \n          <div class=\"form-label\">\n            <label for=\"avatar\">Avatar Url</label>\n            <input v-model=\"avatar\" type=\"text\" placeholder=\"Avatar url\" class=\"form-control rounded-full bg-white\">\n          </div>\n        </article>\n      </section>\n      <div class=\"form-label\" v-if=\"selectedUserType === 'Artist'\">\n        <label for=\"nickname\">Nickname:</label>\n        <input v-model=\"nickname\" type=\"text\" id=\"nickname\" name=\"nickname\" placeholder=\"Nickname\" class=\"form-control rounded-full bg-white\">\n      </div>\n      <div class=\"form-label\" v-if=\"selectedUserType === 'Client'\">\n        <label for=\"clientField1\">Client Field 1:</label> \n        <input type=\"text\" id=\"clientField1\" name=\"clientField1\" class=\"form-control rounded-full bg-white\">\n      </div>\n      <button  type=\"submit\" :disabled=\"pendingFetch\" class=\"btn\">\n        <span v-if=\"pendingFetch\">Submitting...</span>\n        <span v-else>Register</span>\n      </button>\n      </form>\n  \n      <div v-if=\"errorOnFetch\" class=\"text-xl text-red uppercase\">{{ errorOnFetch.data.error }}</div>\n      <div v-if=\"pending\">Loading...</div>\n      <div v-if=\"dataFetch\">Data: {{ dataFetch.value }}</div>\n      <!-- Campos adicionales para el cliente -->\n      \n    </section>\n  </UContainer>\n  </template>\n  <script setup>\nimport { ref } from 'vue';\n\nlet username = ref('');\nlet first_name = ref('');\nlet last_name = ref('');\nlet email = ref('');\nlet password = ref('');\nlet avatar = ref('');\nlet nickname = ref('');\nlet errorOnFetch = ref('')\nconst dataFetch = ref(null);\nconst selectedUserType = ref('Artist');\n\nconst toast = useToast();\nconst router = useRouter();\nconst options = [{\n    name: 'Artist',\n    value: 'Artist'\n    },\n    // {\n    // name: 'Client',\n    // value: 'Client'\n    // }\n]\n\nconst toggleFields = () => {\n  // Implementa la lógica para mostrar u ocultar campos según el valor seleccionado\n};\nconst register = async() => {\n  const { data, pending, error } = await useFetch('https://arthub-api.fly.dev/api/v1/artists/', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n      // 'Authorization': 'Token f3b557760eda960a094698122c6eb9489c2487f3'\n    },\n    body: JSON.stringify({\n      username: username.value,\n      email: email.value,\n      first_name: first_name.value,\n      last_name: last_name.value,\n      password: password.value,\n      avatar: avatar.value,\n      nickname: nickname.value,\n    })\n  });\n  if (error) {\n    errorOnFetch.value = error.value;\n  }\n  if (data) {\n    dataFetch.value = data.value;\n    console.log(dataFetch.value);\n    toast.add({ title: 'Artist created! Redirecting to your Dashboard...', timeout: 2000, callback:() => router.push('/dashboard') })\n  }\n  }\n</script>\n  \n  <style scoped>\n\n  .form-label {\n    width: 100%;\n    max-width: 1000px;\n  }\n\n  .form-label label{\n    font-size: 2rem;\n    font-family: 'Garute';\n}\n\n.form-label input{\n    font-size: 1.5rem;\n    font-family: 'Afacad';\n    font-weight: 500;\n    color: #818cf8;\n    text-transform: uppercase;\n}\n\n  .form-control {\n    width: 100%;\n    padding: 8px;\n    border: 1px solid #ccc;\n    border-radius: 20px;\n    margin-bottom: 10px;\n    box-sizing: border-box;\n  }\n\n  .btn {\n    padding: 10px 20px;\n    border: none;\n    border-radius: 20px;\n    background-color: #7735e1;\n    color: #fff;\n    cursor: pointer;\n  }\n\n  .btn:hover {\n    background-color: transparent;\n    color:#7735e1\n  }\n  </style>"],"names":["username","ref","first_name","last_name","email","password","avatar","nickname","errorOnFetch","dataFetch","selectedUserType","toast","useToast","router","useRouter","options","toggleFields","register","data","pending","error","useFetch"],"mappings":"ukDA8DA,IAAIA,EAAWC,EAAI,EAAE,EACjBC,EAAaD,EAAI,EAAE,EACnBE,EAAYF,EAAI,EAAE,EAClBG,EAAQH,EAAI,EAAE,EACdI,EAAWJ,EAAI,EAAE,EACjBK,EAASL,EAAI,EAAE,EACfM,EAAWN,EAAI,EAAE,EACjBO,EAAeP,EAAI,EAAE,EACzB,MAAMQ,EAAYR,EAAI,IAAI,EACpBS,EAAmBT,EAAI,QAAQ,EAE/BU,EAAQC,EAAQ,EAChBC,EAASC,EAAS,EAClBC,EAAU,CAAC,CACb,KAAM,SACN,MAAO,QACN,CAKL,EAEMC,EAAe,IAAM,CAE3B,EACMC,EAAW,SAAW,CAC1B,KAAM,CAAE,KAAAC,EAAM,QAAAC,EAAS,MAAAC,CAAK,EAAK,MAAMC,EAAS,6CAA8C,CAC5F,OAAQ,OACR,QAAS,CACP,eAAgB,kBAEjB,EACD,KAAM,KAAK,UAAU,CACnB,SAAUrB,EAAS,MACnB,MAAOI,EAAM,MACb,WAAYF,EAAW,MACvB,UAAWC,EAAU,MACrB,SAAUE,EAAS,MACnB,OAAQC,EAAO,MACf,SAAUC,EAAS,KACzB,CAAK,CACF,EAAA,aAAA,EACGa,IACFZ,EAAa,MAAQY,EAAM,OAEzBF,IACFT,EAAU,MAAQS,EAAK,MACvB,QAAQ,IAAIT,EAAU,KAAK,EAC3BE,EAAM,IAAI,CAAE,MAAO,mDAAoD,QAAS,IAAM,SAAS,IAAME,EAAO,KAAK,YAAY,CAAC,CAAE,EAEjI"}